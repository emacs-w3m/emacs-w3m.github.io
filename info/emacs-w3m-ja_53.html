<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html401/loose.dtd">
<html>
<!-- Copyright C 2000-2014 TSUCHIYA Masatoshi

Permission is granted to copy, distribute and/or modify this document
under the terms of the GNU General Public License, Version 2 or any
later version published by the Free Software Foundation.

この文書を、フリーソフトウェア財団によって発行された GNU 一般公衆利用許
諾契約書第 2 版またはそれ以降の版のうちどれかの定める条件の下で複製、配
布、あるいは変更することを許可します。

This document is distributed in the hope that it will be useful, but
WITHOUT ANY WARRANTY; without even the implied warranty of
MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
General Public License for more details.

この文書は有用であることを願って頒布されますが、全くの無保証 です。
商業可能性 の保証や 特定の目的への適合性 は、言外に示され
たものも含め全く存在しません。詳しくは GNU 一般公衆利用許諾契約書をご覧
ください。

You should have received a copy of the GNU General Public License along
with this document; see the file COPYING.  If not, write to the Free
Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA
02110-1301, USA.

あなたはこの文書と共に、GNU 一般公衆利用許諾契約書の複製物を一部受け取っ
たはずです。COPYING ファイルを参照してください。もし受け取っていなければ、
フリーソフトウェア財団まで請求してください (宛先は the Free Software
Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA 02111-1307 USA)。

 -->
<!-- Created on 2019å¹´1ææ30æ¥ by texi2html 1.82
texi2html was written by: 
            Lionel Cons <Lionel.Cons@cern.ch> (original author)
            Karl Berry  <karl@freefriends.org>
            Olaf Bachmann <obachman@mathematik.uni-kl.de>
            and many others.
Maintained by: Many creative people.
Send bugs and suggestions to <texi2html-bug@nongnu.org>
-->
<head>
<title>Emacs-w3m &ndash; an Emacs interface to w3m &ndash;: 7.2 トラブル</title>

<meta name="description" content="Emacs-w3m &ndash; an Emacs interface to w3m &ndash;: 7.2 トラブル">
<meta name="keywords" content="Emacs-w3m &ndash; an Emacs interface to w3m &ndash;: 7.2 トラブル">
<meta name="resource-type" content="document">
<meta name="distribution" content="global">
<meta name="Generator" content="texi2html 1.82">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
<!--
a.summary-letter {text-decoration: none}
blockquote.smallquotation {font-size: smaller}
pre.display {font-family: serif}
pre.format {font-family: serif}
pre.menu-comment {font-family: serif}
pre.menu-preformatted {font-family: serif}
pre.smalldisplay {font-family: serif; font-size: smaller}
pre.smallexample {font-size: smaller}
pre.smallformat {font-family: serif; font-size: smaller}
pre.smalllisp {font-size: smaller}
span.roman {font-family:serif; font-weight:normal;}
span.sansserif {font-family:sans-serif; font-weight:normal;}
ul.toc {list-style: none}
-->
</style>


</head>

<body lang="ja" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080" alink="#FF0000">

<a name="Trouble-FAQ"></a>
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="emacs-w3m-ja_52.html#General-FAQ" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_54.html#Shimbun-FAQ" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_51.html#Frequently-Asked-Questions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_51.html#Frequently-Asked-Questions" title="Up section">ä¸</a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_55.html#Known-Problems" title="Next chapter"> &gt;&gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja.html#Top" title="Cover (top) of document">åé ­</a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_toc.html#SEC_Contents" title="Table of contents">ç®æ¬¡</a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_68.html#Index" title="è¦åºã">è¦åºã</a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_abt.html#SEC_About" title="About (help)"> ? </a>]</td>
</tr></table>
<a name="toraburu"></a>
<h2 class="section">7.2 トラブル</h2>

<ul>
<li>
Q. 認証の必要なページのパスワードが入力できません。

<p>変数 <code>w3m-async-exec</code> に <code>nil</code> 以外の値が設定されていることを
確認してください。
</p>
</li><li>
Q. 認証の必要な proxy サーバーのパスワードが入力できません。

<p>変数 <code>w3m-async-exec</code> に <code>nil</code> 以外の値が設定されていることを
確認してください。
</p>
</li><li>
Q. リンクがたどれません。

<p>&lsquo;<samp>-header</samp>&rsquo; オプションを受け付ける w3m コマンドが必要です。w3m のバー
ジョンを確認してください。
</p>
</li><li>
Q. 文字化けします。

<p>いくつかの原因があります。
</p>
<ol>
<li>
HTML ファイルの問題

<p>HTML ファイル中で &lsquo;<samp>&lt;meta&gt;</samp>&rsquo; タグによって指定されている文字コードと、
実際の文字コードが異なると、正常に表示されません。
<kbd>M-x w3m-redisplay-with-charset &lt;RET&gt;</kbd> また
は <kbd>C c</kbd> コマンドを使って、正しい文字コードを指定して再描画して
ください。
</p>
</li><li>
文字コード

<p>ISO-2022-JP(jis), EUC-JP または SHIFT_JIS 以外の文字コードで記述されたペー
ジについては、表示できない場合があります。次のいずれかの方法で対処してく
ださい。
</p>
<ol>
<li>
Mule-UCS (see section <a href="emacs-w3m-ja_5.html#Other-Requirements">Emacs-w3m を動作させるのに必要なもの</a>) をインストールすると、Unicode で定
義されている範囲の文字は表示できるようになります。インストール後、変
数 <code>w3m-use-mule-ucs</code> が <code>nil</code> 以外の値に設定されていることを
確認してください。なお、Emacs (それに emacs-w3m も) が EUC-JISX0213 およ
び ISO-2022-JP-3 の文字コードを扱えるようにするには、Mule-UCS に附属して
いる &lsquo;<samp>jisx0213</samp>&rsquo; モジュールをインストールする必要があります (残念な
がら XEmacs では使えませんが)。

</li><li>
w3mmee や w3m-m17n をインストールして、変数 <code>w3m-command</code> に適切な
値を設定してください。このように設定すると、emacs-w3m はこれらのプログラ
ムが提供する多言語機能を利用するようになります。ただし、Emacs が扱える文
字コードに限られますので、必要に応じて Mule-UCS もインストールしてくださ
い。
</li></ol>

</li><li>
Emacsen の問題

<p>XEmacs 21.1 では SHIFT_JIS のページが化けることがあります。また、XEmacs
21.2 でも beta36 以前では問題があります。そういうものを使っている場合
は XEmacs をアップグレードしてください。
</p>
<p>XEmacs 21.1 と 21.2 は、すでに公式にお役御免になったことを認識してくださ
い。
</p>
</li><li>
<code>standard-display-european</code> を使わないでください

<p>それはしばしば Latin 文字を正しく表示させないので、概して有害です。例え
ば、&lsquo;<samp>&amp;#8217</samp>&rsquo; としてエンコードされたアポストロフィ文字 (&lsquo;<samp>'</samp>&rsquo;) は、
それがあたかも &lsquo;<samp>&amp;#249</samp>&rsquo; としてエンコードされたかのように、低アクセン
ト (a grave accent) が付いた文字 &lsquo;<samp>u</samp>&rsquo; として表示されるでしょう。あな
たの &lsquo;<tt>~/.emacs</tt>&rsquo; ファイルか、Emacs が起動時に読み込む site ファイル
に、何か以下のような行があるならば、それを取り除くことを強く勧めます。
</p>
<table><tr><td>&nbsp;</td><td><pre class="lisp">(standard-display-european 1)
</pre></td></tr></table>

<p>そこでは、引数は <code>1</code> ではなくて <code>t</code> かもしれません。
</p></li></ol>

</li><li>
Q. 画像表示できません。

<p>いくつかの原因があります。
</p>
<p>古いバージョンの &lsquo;<samp>libungif</samp>&rsquo; ライブラリにはバグがあります。
&lsquo;<samp>libungif-4.1.0b1</samp>&rsquo; 以降のものをインストールしなければなりません。
</p>
<p>XEmacs では必ず &lsquo;<samp>gifsicle</samp>&rsquo; プログラムをインストールしてください。現
在利用できるすべての XEmacs 21.x にはバグがあり、emacs-w3m ではこれを使っ
て対策しています (see section <a href="emacs-w3m-ja_5.html#Other-Requirements">Emacs-w3m を動作させるのに必要なもの</a>)。
</p>
<p>古い w3m コマンドでは正常に表示できません。w3m のバージョンを確認してく
ださい。
</p>
</li><li>
Q. Cookie が必要なページを閲覧できません。

<p>(まだ実験的な機能です。)
</p>
<p>変数 <code>w3m-use-cookies</code> に <code>nil</code> 以外の値が設定されていることを
確認してください。
</p>
</li><li>
Q. フォームに入力できません。

<p>(まだ実験的な機能です。)
</p>
<p>変数 <code>w3m-use-form</code> に <code>nil</code> 以外の値が設定されていることを確
認してください。
</p>
</li><li>
Q. フォームを送信できません。

<p>(まだ実験的な機能です。)
</p>
<p>変数 <code>w3m-use-form</code> に <code>nil</code> 以外の値が設定されていることを確
認してください。この機能を使うには、&lsquo;<samp>-post</samp>&rsquo; オプションを認識す
る w3m コマンドが必要です。w3m のバージョンを確認してください。
</p>
</li><li>
Q. フレームがレンダリングされません。

<p>w3mmee をインストールして、以下の設定を &lsquo;<tt>~/.emacs</tt>&rsquo; ファイルに入れて
ください:
</p>
<table><tr><td>&nbsp;</td><td><pre class="lisp">(setq w3m-command &quot;w3mmee&quot;)
</pre></td></tr></table>

</li><li>
Q. GNU Emacs の tab 行に favicon が表示されないのですが。

<p>Image Magick に含まれている &lsquo;<samp>convert</samp>&rsquo; プログラムをインストールして
ください。<a href="http://www.imagemagick.org/">http://www.imagemagick.org/</a> から入手できます。
</p>
</li><li>
Q. GNU Emacs で favicon を表示しようとしたのですが、Emacs がロックしまし
た。
</li><li>
Q. Emacs-w3m を立ち上げようとしたら、激しくディスクアクセスした後、
&lsquo;<samp>process convert exited abnormally with code 10</samp>&rsquo; などと表示されまし
た。どうなっているんでしょう?

<p>古いバージョンの Image Magick を使っていませんか?  ImageMagick-5.2.1 に
付属している &lsquo;<samp>convert</samp>&rsquo; を使っていると、そうなることが知られています。
ImageMagick-5.4.0-5 (以上) に付属している &lsquo;<samp>convert</samp>&rsquo; では、正常動作
が確認されています。
</p>
<p>もし ImageMagick が使えない、または使いたくない場合
は &lsquo;<tt>~/.emacs-w3m</tt>&rsquo; ファイルに
</p>
<table><tr><td>&nbsp;</td><td><pre class="lisp">(setq w3m-use-favicon nil)
</pre></td></tr></table>

<p>の設定を追加してください。
</p>
</li><li>
Q. なぜ emacs-w3m が w3mmee で動作しないのですか?

<p>もし &lsquo;<samp>lang=en</samp>&rsquo; または &lsquo;<samp>lang=ja</samp>&rsquo; で configure された w3mmee を
使っているのならば、&lsquo;<samp>lang=many</samp>&rsquo; で configure し直し
て (それは &lsquo;<samp>configure</samp>&rsquo; スクリプトが &lsquo;<samp>Which language do you
prefer?</samp>&rsquo; と尋ねたときに 3 を入力することによってできます)、w3mmee を再構
築してください。
</p>
</li><li>
Q. なぜ emacs-w3m で web ページが見えないのでしょうか?  ローカル
な html ファイルを見たり、素の w3m を使う場合は問題無いのですが。

<p>ある Linux の配布 (例えば Gentoo Linux) が含んでいる w3m コマンドには、
async パッ
チ<a name="DOCF6" href="emacs-w3m-ja_fot.html#FOOT6">(6)</a> というものが当たっています。それは素の w3m コマンドを使
うときに有用なのですが、emacs-w3m をハングさせるかもしれません。それが疑
われるならば、w3m コマンドをソースから再インストールすることを勧めます。
</p>
</li><li>
Q. なぜ emacs-w3m のフレームがポップアップしないのですか?

<p>Emacs-w3m のフレームが他のフレームの下に隠れていても、それ
が <kbd>M-x w3m &lt;RET&gt;</kbd> コマンドでポップアップするのは、かなり便
利です。しかし、&lsquo;<samp>metacity</samp>&rsquo; ウィンドウ・マネージャーが使われるいくつ
かのプラットフォーム (例えば Fedora Linux) 上で作られた Emacs を走らせる
場合に、それが働かないという報告がありました。それらのシステムでは、
Emacs のフレームをポップアップさせる他の機能も動かないでしょう。もしあな
たがそんな惨めな境遇にあるならば、以下の advice を試す価値があるかもしれ
ません。
</p>
<table><tr><td>&nbsp;</td><td><pre class="lisp">(if (or (not window-system) (featurep 'xemacs))
    nil
  (defadvice raise-frame
    (after make-it-work (&amp;optional frame) activate)
    &quot;Make it work with the aid of wmctrl.&quot;
    (call-process
     &quot;wmctrl&quot; nil nil nil &quot;-i&quot; &quot;-R&quot;
     (frame-parameter (or frame (selected-frame))
                      'outer-window-id))))
</pre></td></tr></table>

<p>ここで &lsquo;<samp>wmctrl</samp>&rsquo; は、以下の場所で取得できる外部コマンドです。
</p>
<p><a href="http://sweb.cz/tripie/utils/wmctrl/">http://sweb.cz/tripie/utils/wmctrl/</a>
</p>
<p>Advice を &lsquo;<tt>~/.emacs</tt>&rsquo; ファイルに書き込む前に、&lsquo;<samp>wmctrl</samp>&rsquo; コマンド
をインストールしなければならないことに、注意してください。
</p>
<p>次のものは今のところ emacs-w3m では不要ですが、ある種のアプリケーション
が動作するために必要です。(前のものが必要な環境では、これを加えても失う
ものはありません。)
</p>
<table><tr><td>&nbsp;</td><td><pre class="lisp">(if (or (not window-system) (featurep 'xemacs))
    nil
  (defadvice pop-to-buffer (after enable-it-to-forcus-frame
                                  activate)
    &quot;Enable it to focus frame if `pop-up-frames' is non-nil.&quot;
    (when pop-up-frames
      (let ((id (condition-case nil
                    (frame-parameter
                     (window-frame
                      (get-buffer-window (ad-get-arg 0)))
                     'outer-window-id)
                  (error nil))))
        (when id
          (call-process
           &quot;wmctrl&quot; nil nil nil &quot;-i&quot; &quot;-R&quot; id))))))
</pre></td></tr></table>

<p>最後のものはたぶん要らないでしょう。しかし、いくつかのプラットフォームで
は試してみる価値があるかもしれません。
</p>
<table><tr><td>&nbsp;</td><td><pre class="lisp">(if (or (not window-system) (featurep 'xemacs))
    nil
  (defadvice select-frame (around set-input-focus
                                  (frame) activate)
    &quot;Run `select-frame-set-input-focus'.&quot;
    (setq ad-return-value (and (framep frame)
                               (frame-live-p frame)
                               frame))
    (ad-deactivate 'select-frame)
    (unwind-protect
        (select-frame-set-input-focus frame)
      (ad-activate 'select-frame))))
</pre></td></tr></table>

<p>これらの対策は、次の Emacs のリリース (22.2 または 23.1) では不要になる
でしょう。
</p></li></ul>

<hr size="6">
<table cellpadding="1" cellspacing="1" border="0">
<tr><td valign="middle" align="left">[<a href="emacs-w3m-ja_52.html#General-FAQ" title="Previous section in reading order"> &lt; </a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_54.html#Shimbun-FAQ" title="Next section in reading order"> &gt; </a>]</td>
<td valign="middle" align="left"> &nbsp; </td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_51.html#Frequently-Asked-Questions" title="Beginning of this chapter or previous chapter"> &lt;&lt; </a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_51.html#Frequently-Asked-Questions" title="Up section">ä¸</a>]</td>
<td valign="middle" align="left">[<a href="emacs-w3m-ja_55.html#Known-Problems" title="Next chapter"> &gt;&gt; </a>]</td>
</tr></table>
<p>
 <font size="-1">
  ãã®ææ¸ã¯<em>TSUCHIYA Masatoshi</em>ã«ãã£ã¦<em>2019å¹´1ææ30æ¥</em>ã«<a href="http://www.nongnu.org/texi2html/"><em>texi2html 1.82</em></a>ãç¨ãã¦çæããã¾ããã
 </font>
 <br>

</p>
</body>
</html>
